<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>microsoft edgers</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <h1>Shivam.....</h1>
    <h1>Welcome to the Banking App</h1>
    <p>This is the home page of your Flask project.</p>
    <button class="glow-btn">Press Me</button>
    <div class="todo-container">
        <h2>My To-Do List</h2>
        <input type="text" id="taskInput" placeholder="Enter a task">
        <button onclick="addTask()">Add</button>
        <ul id="taskList"></ul>
    </div>
    <script>
        // Load tasks from LocalStorage when page loads
        window.onload = function () {
            const savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];
            savedTasks.forEach(task => renderTask(task.text, task.completed));
        };

        function addTask() {
            const input = document.getElementById("taskInput");
            const taskText = input.value.trim();

            if (taskText === "") return;

            renderTask(taskText, false);
            saveTasks();

            input.value = "";
        }

        function renderTask(taskText, completed) {
            const li = document.createElement("li");
            li.textContent = taskText;

            if (completed) li.classList.add("completed");

            // Toggle complete on click
            li.addEventListener("click", () => {
                li.classList.toggle("completed");
                saveTasks();
            });

            // Delete button
            const deleteBtn = document.createElement("span");
            deleteBtn.textContent = "X";
            deleteBtn.classList.add("delete-btn");
            deleteBtn.onclick = () => {
                li.remove();
                saveTasks();
            };

            li.appendChild(deleteBtn);
            document.getElementById("taskList").appendChild(li);
        }

        function saveTasks() {
            const tasks = [];
            document.querySelectorAll("#taskList li").forEach(li => {
                tasks.push({
                    text: li.firstChild.textContent,
                    completed: li.classList.contains("completed")
                });
            });
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }
    </script>
</body>

</html>